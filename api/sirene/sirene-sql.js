'use strict';

async function _search(searchTerm) {
	console.log(`[SIRENE-SQL Module] _search: : '${searchTerm}'`);
	// Imports the Google Cloud client library
	const {BigQuery} = require('@google-cloud/bigquery');
	var res = {
		"type": "FeatureCollection",
		"features": []
	};

	/* Uncomment those line to make real call */
	searchTerm = searchTerm.toUpperCase();

	const searchquery = `SELECT 
	siret, siren, nic, 
	adresseetablissement, codepostaletablissement, 
	libellecommuneetablissement,
	departementetablissement,
	CASE WHEN  (enseigne1etablissement IS NOT NULL) AND (LENGTH(LTRIM(enseigne1etablissement)) > 0) THEN enseigne1etablissement
	  WHEN  (denominationusuelleetablissement IS NOT NULL) AND (LENGTH(LTRIM(denominationusuelleetablissement)) > 0) THEN denominationusuelleetablissement
	  WHEN  (denominationusuelle1unitelegale IS NOT NULL) AND (LENGTH(LTRIM(denominationusuelle1unitelegale)) > 0) THEN denominationusuelle1unitelegale
		ELSE 'INCONNU' END name, 
	ST_AsGeoJSON(ST_GeogPoint(longitude, latitude)) AS point
	FROM \`ggo-bq-gis.SIRENE.sirene_v3\`
	WHERE (activiteprincipaleetablissement NOT LIKE "47.9%") AND (activiteprincipaleetablissement NOT LIKE "47.9%")
	AND (
	  (denominationusuelleetablissement LIKE '%${searchTerm}%')
	  OR 
	  (denominationusuelle1unitelegale LIKE '%${searchTerm}%')
	  OR 
	  (enseigne1etablissement LIKE '%${searchTerm}%')
	)`;	

	console.log(`Query: ${searchquery}`);

	const bigquery = new BigQuery();
	const options = {
	    query: searchquery,
	    // Location must match that of the dataset(s) referenced in the query.
	    location: 'EU',
	};
	const [job] = await bigquery.createQueryJob(options);
	console.log(`Job ${job.id} started.`);

	// Waits for the query to finish
	const [rows] = await job.getQueryResults();
	console.log('return ' + rows.length);
	rows.forEach(row => {
		res.features.push({
			"type": "Feature",
			"properties" : {
				"name"	: row['name'],
				"siret" : row['siret'],
				"siren" : row['siren'],
				"nic"	: row['nic'],
				"adresse" : row['adresseetablissement'],
				"codepostal" : row['codepostaletablissement'],
				"commune" : row['libellecommuneetablissement'],
				"departement" : row['departementetablissement']
			},
			"geometry" : JSON.parse(row['point'])
		});
	});

	return res;
	/*
	var resStr = '{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"name":"LEADER PRICE","siret":"40391693500014","siren":"403916935","nic":"00014","adresse":"11 AV DES ECOLES","codepostal":"91600","commune":"SAVIGNY SUR ORGE","departement":"ESSONNE"},"geometry":{"type":"Point","coordinates":[2.35158,48.687332]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"69572190200192","siren":"695721902","nic":"00192","adresse":"85 RUE SAINT DENIS","codepostal":"92700","commune":"COLOMBES","departement":"HAUTS-DE-SEINE"},"geometry":{"type":"Point","coordinates":[2.253226,48.923895]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"53085228400021","siren":"530852284","nic":"00021","adresse":"25 AV DE L EUROPE","codepostal":"92310","commune":"SEVRES","departement":"HAUTS-DE-SEINE"},"geometry":{"type":"Point","coordinates":[2.208753,48.822593]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"60820207300078","siren":"608202073","nic":"00078","adresse":"87 RUE PAUL DOUMER","codepostal":"78130","commune":"LES MUREAUX","departement":"YVELINES"},"geometry":{"type":"Point","coordinates":[1.910336,48.993437]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700234","siren":"552083297","nic":"00234","adresse":"12 RUE DES HUISSIERS","codepostal":"92200","commune":"NEUILLY SUR SEINE","departement":"HAUTS-DE-SEINE"},"geometry":{"type":"Point","coordinates":[2.265972,48.884351]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700705","siren":"552083297","nic":"00705","adresse":"2 RUE DE VERDUN","codepostal":"34000","commune":"MONTPELLIER","departement":"HERAULT"},"geometry":{"type":"Point","coordinates":[3.88004,43.607981]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"38956872600019","siren":"389568726","nic":"00019","adresse":"12 PL GEORGES POMPIDOU","codepostal":"92300","commune":"LEVALLOIS PERRET","departement":"HAUTS-DE-SEINE"},"geometry":{"type":"Point","coordinates":[2.282282,48.898586]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700424","siren":"552083297","nic":"00424","adresse":"28 RUE DU PALAIS","codepostal":"17000","commune":"LA ROCHELLE","departement":"CHARENTE-MARITIME"},"geometry":{"type":"Point","coordinates":[-1.153629,46.159336]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700531","siren":"552083297","nic":"00531","adresse":"46 RUE DU GENERAL DE GAULLE","codepostal":"95880","commune":"ENGHIEN LES BAINS","departement":"VAL-D\'OISE"},"geometry":{"type":"Point","coordinates":[2.306317,48.970192]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700358","siren":"552083297","nic":"00358","adresse":"8 RUE RENE ROECKEL","codepostal":"92340","commune":"BOURG LA REINE","departement":"HAUTS-DE-SEINE"},"geometry":{"type":"Point","coordinates":[2.313834,48.779846]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700481","siren":"552083297","nic":"00481","adresse":"10 RUE DE LA GARE","codepostal":"74100","commune":"ANNEMASSE","departement":"HAUTE-SAVOIE"},"geometry":{"type":"Point","coordinates":[6.233826,46.194281]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700440","siren":"552083297","nic":"00440","adresse":"10 PL GABRIEL PERI","codepostal":"30100","commune":"ALES","departement":"GARD"},"geometry":{"type":"Point","coordinates":[4.079597,44.121772]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329702131","siren":"552083297","nic":"02131","adresse":"RUE GEORGES CLEMENCEAU","codepostal":"78000","commune":"VERSAILLES","departement":"YVELINES"},"geometry":{"type":"Point","coordinates":[2.132182,48.804029]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329702263","siren":"552083297","nic":"02263","adresse":"38 RUE MARECHAL FOCH","codepostal":"80100","commune":"ABBEVILLE","departement":"SOMME"},"geometry":{"type":"Point","coordinates":[1.834932,50.104857]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701646","siren":"552083297","nic":"01646","adresse":"7 AV SECRETAN","codepostal":"75019","commune":"PARIS 19","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.371187,48.882246]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700317","siren":"552083297","nic":"00317","adresse":"BD DE LA REPUBLIQUE","codepostal":"92210","commune":"SAINT CLOUD","departement":"HAUTS-DE-SEINE"},"geometry":{"type":"Point","coordinates":[2.213524,48.849699]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700739","siren":"552083297","nic":"00739","adresse":"2 PL DU PATTI","codepostal":"06130","commune":"GRASSE","departement":"ALPES-MARITIMES"},"geometry":{"type":"Point","coordinates":[6.923885,43.660386]}},{"type":"Feature","properties":{"name":"SUPER MONOPRIX","siret":"55208329701307","siren":"552083297","nic":"01307","adresse":"20 BD DE CHARONNE","codepostal":"75020","commune":"PARIS 20","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.399246,48.849566]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701984","siren":"552083297","nic":"01984","adresse":"39 RUE D ALSACE LORRAINE","codepostal":"31000","commune":"TOULOUSE","departement":"HAUTE-GARONNE"},"geometry":{"type":"Point","coordinates":[1.445583,43.603542]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700135","siren":"552083297","nic":"00135","adresse":"10 AV DE VILLIERS","codepostal":"75017","commune":"PARIS 17","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.31509,48.881776]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700119","siren":"552083297","nic":"00119","adresse":"13 AV DES GOBELINS","codepostal":"75005","commune":"PARIS 5","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.351521,48.837732]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700598","siren":"552083297","nic":"00598","adresse":"1 RUE SAINT CHRISTOPHE","codepostal":"59500","commune":"DOUAI","departement":"NORD"},"geometry":{"type":"Point","coordinates":[3.082536,50.369567]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701331","siren":"552083297","nic":"01331","adresse":"3 RUE DES ARTS","codepostal":"74200","commune":"THONON LES BAINS","departement":"HAUTE-SAVOIE"},"geometry":{"type":"Point","coordinates":[6.479668,46.371125]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"41014619500053","siren":"410146195","nic":"00053","adresse":"6 RUE DE L EGLISE","codepostal":"85100","commune":"LES SABLES D\'OLONNE","departement":"VENDEE"},"geometry":{"type":"Point","coordinates":[-1.784713,46.496117]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"41014619500038","siren":"410146195","nic":"00038","adresse":"17 RUE DE L HOTEL DE VILLE","codepostal":"85100","commune":"LES SABLES D\'OLONNE","departement":"VENDEE"},"geometry":{"type":"Point","coordinates":[-1.784593,46.496468]}},{"type":"Feature","properties":{"name":"MONOPRIX MONTROUGE","siret":"30973291500025","siren":"309732915","nic":"00025","adresse":"86 AV DE LA REPUBLIQUE","codepostal":"92120","commune":"MONTROUGE","departement":"HAUTS-DE-SEINE"},"geometry":{"type":"Point","coordinates":[2.317813,48.815797]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329702453","siren":"552083297","nic":"02453","adresse":"22 BD GAMBETTA","codepostal":"92130","commune":"ISSY LES MOULINEAUX","departement":"HAUTS-DE-SEINE"},"geometry":{"type":"Point","coordinates":[2.27731,48.827348]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329702461","siren":"552083297","nic":"02461","adresse":"2 RUE DU SERGENT MICHEL BERTHET","codepostal":"69009","commune":"LYON 9EME","departement":"RHONE"},"geometry":{"type":"Point","coordinates":[4.805238,45.774886]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329702404","siren":"552083297","nic":"02404","adresse":"54 BD DE L HOPITAL","codepostal":"75013","commune":"PARIS 13","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.360406,48.838531]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700820","siren":"552083297","nic":"00820","adresse":"8 AV DE FLIREY","codepostal":"06000","commune":"NICE","departement":"ALPES-MARITIMES"},"geometry":{"type":"Point","coordinates":[7.275358,43.721177]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700556","siren":"552083297","nic":"00556","adresse":"41 BD CHARLES DE GAULLE","codepostal":"95110","commune":"SANNOIS","departement":"VAL-D\'OISE"},"geometry":{"type":"Point","coordinates":[2.258455,48.971359]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701059","siren":"552083297","nic":"01059","adresse":"96 RUE DALAYRAC","codepostal":"94120","commune":"FONTENAY SOUS BOIS","departement":"VAL-DE-MARNE"},"geometry":{"type":"Point","coordinates":[2.458919,48.849264]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701844","siren":"552083297","nic":"01844","adresse":"17 RUE DU PERE LOUIS DE JABRUN","codepostal":"33000","commune":"BORDEAUX","departement":"GIRONDE"},"geometry":{"type":"Point","coordinates":[-0.576517,44.838999]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329703071","siren":"552083297","nic":"03071","adresse":"57 BD GODARD","codepostal":"33110","commune":"LE BOUSCAT","departement":"GIRONDE"},"geometry":{"type":"Point","coordinates":[-0.580909,44.864024]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329702875","siren":"552083297","nic":"02875","adresse":"255 PL DE L HOTEL DE VILLE","codepostal":"73000","commune":"CHAMBERY","departement":"SAVOIE"},"geometry":{"type":"Point","coordinates":[5.920602,45.566393]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329703279","siren":"552083297","nic":"03279","adresse":"11 RUE FRANKLIN ROOSEVELT","codepostal":"49400","commune":"SAUMUR","departement":"MAINE-ET-LOIRE"},"geometry":{"type":"Point","coordinates":[-0.078104,47.259959]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701885","siren":"552083297","nic":"01885","adresse":"CRS MARECHAL FOCH","codepostal":"13400","commune":"AUBAGNE","departement":"BOUCHES-DU-RHONE"},"geometry":{"type":"Point","coordinates":[5.567885,43.293303]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700804","siren":"552083297","nic":"00804","adresse":"1 RUE DESAIX","codepostal":"65000","commune":"TARBES","departement":"HAUTES-PYRENEES"},"geometry":{"type":"Point","coordinates":[0.078212,43.23038]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700473","siren":"552083297","nic":"00473","adresse":"65 RUE PASTEUR","codepostal":"65300","commune":"LANNEMEZAN","departement":"HAUTES-PYRENEES"},"geometry":{"type":"Point","coordinates":[0.382853,43.12389]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701166","siren":"552083297","nic":"01166","adresse":"166 AV LEDRU ROLLIN","codepostal":"75011","commune":"PARIS 11","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.379455,48.85672]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701927","siren":"552083297","nic":"01927","adresse":"39 RUE SAINT MARTIN","codepostal":"02200","commune":"SOISSONS","departement":"AISNE"},"geometry":{"type":"Point","coordinates":[3.328316,49.37885]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700408","siren":"552083297","nic":"00408","adresse":"1383 AV ROGER SALENGRO","codepostal":"92370","commune":"CHAVILLE","departement":"HAUTS-DE-SEINE"},"geometry":{"type":"Point","coordinates":[2.189953,48.809702]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700861","siren":"552083297","nic":"00861","adresse":"73 RUE DU GROS HORLOGE","codepostal":"76000","commune":"ROUEN","departement":"SEINE-MARITIME"},"geometry":{"type":"Point","coordinates":[1.091826,49.441308]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700762","siren":"552083297","nic":"00762","adresse":"RUE DES TANNEURS","codepostal":"59800","commune":"LILLE","departement":"NORD"},"geometry":{"type":"Point","coordinates":[3.065474,50.634589]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701406","siren":"552083297","nic":"01406","adresse":"31 PL FRANCHEVILLE","codepostal":"24000","commune":"PERIGUEUX","departement":"DORDOGNE"},"geometry":{"type":"Point","coordinates":[0.717433,45.182808]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701042","siren":"552083297","nic":"01042","adresse":"75 RUE DE PARIS","codepostal":"94220","commune":"CHARENTON LE PONT","departement":"VAL-DE-MARNE"},"geometry":{"type":"Point","coordinates":[2.413982,48.821284]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700887","siren":"552083297","nic":"00887","adresse":"RUE DE PARIS","codepostal":"59300","commune":"VALENCIENNES","departement":"NORD"},"geometry":{"type":"Point","coordinates":[3.520769,50.359219]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701281","siren":"552083297","nic":"01281","adresse":"94 RUE D ALESIA","codepostal":"75014","commune":"PARIS 14","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.323576,48.829019]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329702784","siren":"552083297","nic":"02784","adresse":"RUE DU MOULIN","codepostal":"44000","commune":"NANTES","departement":"LOIRE-ATLANTIQUE"},"geometry":{"type":"Point","coordinates":[-1.554537,47.216528]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701372","siren":"552083297","nic":"01372","adresse":"72 RUE LECOURBE","codepostal":"75015","commune":"PARIS 15","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.305874,48.843601]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701869","siren":"552083297","nic":"01869","adresse":"19 AV ANDRE RENE GUIBERT","codepostal":"78170","commune":"LA CELLE SAINT CLOUD","departement":"YVELINES"},"geometry":{"type":"Point","coordinates":[2.132468,48.845564]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700366","siren":"552083297","nic":"00366","adresse":"161 RUE D AGUESSEAU","codepostal":"92100","commune":"BOULOGNE BILLANCOURT","departement":"HAUTS-DE-SEINE"},"geometry":{"type":"Point","coordinates":[2.237983,48.836515]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700168","siren":"552083297","nic":"00168","adresse":"133 RUE DE BELLEVILLE","codepostal":"75019","commune":"PARIS 19","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.388632,48.874939]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700606","siren":"552083297","nic":"00606","adresse":"31 PL BERTRAND LABARRE","codepostal":"60400","commune":"NOYON","departement":"OISE"},"geometry":{"type":"Point","coordinates":[3.000422,49.580908]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"33059859000108","siren":"330598590","nic":"00108","adresse":"71 RUE SAINT ANTOINE","codepostal":"75004","commune":"PARIS 4","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.363315,48.854309]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329702909","siren":"552083297","nic":"02909","adresse":"107 BD NOTRE DAME","codepostal":"13006","commune":"MARSEILLE 6","departement":"BOUCHES-DU-RHONE"},"geometry":{"type":"Point","coordinates":[5.374831,43.284942]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329702388","siren":"552083297","nic":"02388","adresse":"179 RUE DE GENEVE","codepostal":"73100","commune":"AIX LES BAINS","departement":"SAVOIE"},"geometry":{"type":"Point","coordinates":[5.912806,45.691141]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329703253","siren":"552083297","nic":"03253","adresse":"RUE LUCIEN FAURE","codepostal":"33300","commune":"BORDEAUX","departement":"GIRONDE"},"geometry":{"type":"Point","coordinates":[-0.557243,44.863188]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701398","siren":"552083297","nic":"01398","adresse":"54 AV DU GENERAL LECLERC","codepostal":"75014","commune":"PARIS 14","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.328661,48.830229]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329702214","siren":"552083297","nic":"02214","adresse":"40 FG CHARTRAIN","codepostal":"41100","commune":"VENDOME","departement":"LOIR-ET-CHER"},"geometry":{"type":"Point","coordinates":[1.068061,47.796074]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701570","siren":"552083297","nic":"01570","adresse":"42 RUE DAVIEL","codepostal":"75013","commune":"PARIS 13","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.34341,48.82847]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700457","siren":"552083297","nic":"00457","adresse":"2 RUE SABATIER","codepostal":"81100","commune":"CASTRES","departement":"TARN"},"geometry":{"type":"Point","coordinates":[2.240829,43.605062]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701109","siren":"552083297","nic":"01109","adresse":"6 RUE BARATTE CHOLET","codepostal":"94100","commune":"SAINT MAUR DES FOSSES","departement":"VAL-DE-MARNE"},"geometry":{"type":"Point","coordinates":[2.48579,48.797443]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700960","siren":"552083297","nic":"00960","adresse":"2 RUE FRANCISCO FERRER","codepostal":"01100","commune":"OYONNAX","departement":"AIN"},"geometry":{"type":"Point","coordinates":[5.657073,46.257734]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700507","siren":"552083297","nic":"00507","adresse":"9 PL DU CHAMP COMMUN","codepostal":"65100","commune":"LOURDES","departement":"HAUTES-PYRENEES"},"geometry":{"type":"Point","coordinates":[-0.047047,43.094277]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"33059859000074","siren":"330598590","nic":"00074","adresse":"38 RUE SAINT PAUL","codepostal":"75004","commune":"PARIS 4","departement":"PARIS"},"geometry":{"type":"Point","coordinates":[2.362522,48.848324]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700291","siren":"552083297","nic":"00291","adresse":"72 AV CHARLES DE GAULLE","codepostal":"92200","commune":"NEUILLY SUR SEINE","departement":"HAUTS-DE-SEINE"},"geometry":{"type":"Point","coordinates":[2.271278,48.881669]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329700655","siren":"552083297","nic":"00655","adresse":"1002 AV DE LA REPUBLIQUE","codepostal":"59700","commune":"MARCQ EN BAROEUL","departement":"NORD"},"geometry":{"type":"Point","coordinates":[3.101634,50.66433]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701810","siren":"552083297","nic":"01810","adresse":"5 RUE DES MATHURINS","codepostal":"14100","commune":"LISIEUX","departement":"CALVADOS"},"geometry":{"type":"Point","coordinates":[0.224761,49.144579]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701752","siren":"552083297","nic":"01752","adresse":"5 RUE DE LA MONNAIE","codepostal":"74500","commune":"EVIAN LES BAINS","departement":"HAUTE-SAVOIE"},"geometry":{"type":"Point","coordinates":[6.587335,46.400474]}},{"type":"Feature","properties":{"name":"MONOPRIX","siret":"55208329701497","siren":"552083297","nic":"01497","adresse":"205 CRS GIMON","codepostal":"13300","commune":"SALON DE PROVENCE","departement":"BOUCHES-DU-RHONE"},"geometry":{"type":"Point","coordinates":[5.099093,43.638826]}}]}';
	return JSON.parse(resStr);
	*/	
};

module.exports = {
	search: _search
};
